# KASI Insight ML Scripts

## Prerequisites

To successfully run KASI Insight ML scripts please make sure that you have python v 3.7 or newer installed. Also make sure the `setuptools` package is installed. To install the package run `pip install -U setuptools`


## KASI Insight Script Installation

* Using command prompt tool navigate to the `..\src` folder of the project. For Windows use `cmd` in admin mode.
* Execute `pip install ./scripts`
* Verify that the *kasi* module is installed executing `pip list`. Find the package name in the list.


## Data Processor

This script normalizes raw survey data. The result of the script is an *.csv file that contains clean categorised data. 

To execute the script run `kasi_process_data --input_dir [path_to_raw_data] --output_file [path_with_filename_to_store_clean_data]`

To get more info about the script run `kasi_process_data -h`

Example: `kasi_process_data --input_dir C:/data/raw --output_file C:/data/processed/clean_data.csv`

## Hyper-parameter Tuning

**NOTE!** This is an optional script
The hyper parameter tuning script is searching the best parameters for a given algorithm and model.

At the moment of writing the following algorithm has been considered:

* Random Forest
* Support Vector Machine
* Gradient Boosting Classifier

To execute the script run `kasi_tuning --algoritm [algorithm] --model [siulator/evaluator] --input_file [path_to_clean_data_file] --output_dir [path_to_the_report_file]`

Example: `kasi_tuning --algorithm rf --model simulator --input_file ../clean/clean_data.csv --output_dir ./tuning`
 

## Simulator Model Training

This script trains the **Lending Environment Simulator** model. The script requires clean data generated by the **data processor** script.

To execute the script run `kasi_train_simulator --input_file [path_to_clean_data_file] --output_file [path_with_filename_to_store_model_image]`

Example: `kasi_train_simulator --input_file C:/data/processed/clean_data.csv --output_file C:/models/simulator.model`



## Evaluator Model Training

This script trains **Lender Evaluator** model. The script requires clean data generated by the **data processor** script.

To execute the script run `kasi_train_evaluator --input_file [path_to_clean_data_file] --output_file [path_with_filename_to_store_model_image]`

Example: `kasi_train_evaluator --input_file C:/data/processed/clean_data.csv --output_file C:/models/evaluator.model`
